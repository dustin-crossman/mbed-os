stages:
  - build

before_script:
  - bash -c pwd
  - whoami
  - set
  - git clone git@git-ore.aus.cypress.com:devops/devops_scripts.git

astyle:
  stage: build
  tags:
    - devops-linux
  script:
    - bash -ex cy-astyle.sh

##############################################################################
# Win10 - ARM, GCC_ARM and IAR
##############################################################################
.win10-ARM:
  stage: build
  tags:
    - mti-win10
  script:
    - bash -ex cy-build.sh win ARM

.win10-GCC_ARM:
  stage: build
  tags:
    - mti-win10
  script:
    - bash -ex cy-build.sh win GCC_ARM

.win10-IAR:
  stage: build
  tags:
    - mti-win10
  script:
    - bash -ex cy-build.sh win IAR

##############################################################################
# Ubuntu18 - ARM and GCC_ARM
##############################################################################
ubuntu18-ARM:
  stage: build
  tags:
    - devops-linux
  script:
    - bash -ex cy-build.sh ubuntu ARM

ubuntu18-GCC_ARM:
  stage: build
  tags:
    - devops-linux
  script:
    - bash -ex cy-build.sh ubuntu GCC_ARM

##############################################################################
# Mac - GCC_ARM
##############################################################################
.mac10.14-GCC_ARM:
  stage: build
  tags:
    - mti-mac10.14
  script:
    - bash -ex cy-build.sh mac GCC_ARM
